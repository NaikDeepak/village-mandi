# Plan: End-to-End Workflow Guide

## Objective
Create a comprehensive, step-by-step guide documenting the complete lifecycle of a batch in Village Mandi, from creation to settlement. This guide will serve as both user documentation for admins and a verification script for the system's integrity.

## Execution Context
- **Phase:** 15 - End-to-End Workflow Guide
- **Source:** .planning/ROADMAP.md
- **Dependencies:** All previous phases (01-14) must be working.

## Context
We have built a complex system with many moving parts:
- Farmers & Products
- Batches & Pricing
- Ordering (Buyer side)
- Order Management (Admin side)
- Packing, Distribution, Payments, Payouts

We need to "walk the floor" and document exactly how an admin runs a weekly cycle. This ensures we haven't missed any critical glue logic and provides a manual for the actual users.

## Tasks

### 1. Create Workflow Documentation
- Create `docs/WORKFLOW_GUIDE.md`
- Document the "Happy Path" end-to-end:
    - **Setup:** Create Hub, Farmers, Products (Pre-requisites)
    - **Step 1: Batch Planning (Admin)**
        - Create Draft Batch
        - Add products to batch
        - Set prices, facilitation fees, MOQs
        - Open the batch
    - **Step 2: Ordering Window (Buyer)**
        - Buyer login/invite
        - Browse shop
        - Add to cart & Checkout
        - Order confirmation
        - **Variation:** Buyer edits an order
    - **Step 3: Post-Cutoff Management (Admin)**
        - Close the batch
        - Review payments (mark 10% commitment)
        - Generate procurement list
    - **Step 4: Fulfillment (Admin)**
        - Mark items as packed
        - Generate packing lists
        - Mark orders as distributed (picked up/delivered)
    - **Step 5: Settlement (Admin)**
        - Log final payments
        - Calculate farmer payouts
        - Mark batch as Settled

### 2. Verify Workflow (Manual Walkthrough)
- Manually execute each step in the local dev environment.
- Capture screenshots or noted API responses for the guide (optional, but good for verification).
- **Deliverable:** A confirmation checklist appended to the guide or a separate `docs/verification/E2E_CHECKLIST.md`.

## Verification
- [x] The `docs/WORKFLOW_GUIDE.md` exists and covers all 5 steps.
- [x] Manual verification confirms that no steps are blocked by bugs.

## Success Criteria
- A clear, readable markdown guide exists in the repo.
- The guide accurately reflects the current system behavior.
